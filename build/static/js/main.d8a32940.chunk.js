(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{409:function(e,t,a){e.exports=a(933)},414:function(e,t,a){},415:function(e,t,a){},933:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(8),c=a.n(l),i=(a(414),a(415),a(47)),o=a(31),u=(a(416),a(20)),m=function(e){var t=e.isOpened,a=e.row,r=e.close,l=e.service,c=Object(n.useState)({key:a.key,carNumber:a.carNumber,buildCar:a.buildCar,carCheck:a.carCheck,model:a.model,mark:a.mark,mileage:a.mileage,price:a.price,costs:a.costs,forSale:a.forSale,buyDay:a.buyDay,cellDay:a.cellDay,owner:a.owner,isCell:a.isCell,profit:a.profit}),m=Object(i.a)(c,2),s=m[0],f=m[1];return n.createElement(n.Fragment,null,n.createElement(o.Modal,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",visible:t,onOk:function(){l.editData2(s),r("")},onCancel:function(){return r("")}},n.createElement("div",null,n.createElement("div",null,"\u041d\u043e\u043c\u0435\u0440 \u0430\u0432\u0442\u043e"," ",n.createElement("input",{value:s.carNumber,onChange:function(e){f(Object(u.a)({},s,{carNumber:e.target.value}))}})),n.createElement("br",null),"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430"," ",n.createElement(o.DatePicker,{format:"DD-MM-YYYY",onChange:function(e){var t=null!==e?"".concat(Date.parse(e.toString())):"";console.log(t),f(Object(u.a)({},s,{buildCar:null!==e?"".concat(Date.parse(e.toString())):""}))}})," ",n.createElement("br",null),n.createElement("br",null),"\u0422\u0435\u0445 \u041e\u0441\u043c\u043e\u0442\u0440"," ",n.createElement(o.DatePicker,{format:"DD-MM-YYYY",onChange:function(e){f(Object(u.a)({},s,{carCheck:null!==e?"".concat(Date.parse(e.toString())):""}))}})," ",n.createElement("br",null),"\u041c\u043e\u0434\u0435\u043b\u044c"," ",n.createElement("input",{value:s.model,onChange:function(e){f(Object(u.a)({},s,{model:e.target.value}))}})," ",n.createElement("br",null),"\u041c\u0430\u0440\u043a\u0430"," ",n.createElement("input",{value:s.mark,onChange:function(e){f(Object(u.a)({},s,{mark:e.target.value}))}})," ",n.createElement("br",null),"\u041f\u0440\u043e\u0431\u0435\u0433"," ",n.createElement("input",{value:s.mileage,onChange:function(e){f(Object(u.a)({},s,{mileage:e.target.value}))}})," ",n.createElement("br",null),"\u0426\u0435\u043d\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"," ",n.createElement("input",{value:s.price,onChange:function(e){f(Object(u.a)({},s,{price:e.target.value}))}})," ",n.createElement("br",null),"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"," ",n.createElement("input",{value:s.costs,onChange:function(e){f(Object(u.a)({},s,{costs:e.target.value}))}})," ",n.createElement("br",null),"\u041d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443"," ",n.createElement("input",{value:s.forSale,onChange:function(e){f(Object(u.a)({},s,{forSale:e.target.value}))}})," ",n.createElement("br",null),"\u0414\u0430\u0442\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438",n.createElement(o.DatePicker,{format:"DD-MM-YYYY",onChange:function(e){console.log(null!==e?"".concat(Date.parse(e.toLocaleString())):""),f(Object(u.a)({},s,{buyDay:null!==e?"".concat(Date.parse(e.toLocaleString())):""}))}})," ",n.createElement("br",null),"\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438",n.createElement(o.DatePicker,{format:"DD-MM-YYYY",onChange:function(e){f(Object(u.a)({},s,{cellDay:null!==e?"".concat(Date.parse(e.toLocaleString())):""}))}}),n.createElement("br",null),"\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446"," ",n.createElement("input",{value:s.owner,onChange:function(e){f(Object(u.a)({},s,{owner:e.target.value}))}})," ",n.createElement("br",null),"\u041f\u0440\u043e\u0434\u0430\u043d\u043e"," ",n.createElement("input",{value:s.isCell,onChange:function(e){f(Object(u.a)({},s,{isCell:e.target.value}))}})," ",n.createElement("br",null),"\u041f\u0440\u0438\u0431\u044b\u043b\u044c"," ",n.createElement("input",{value:s.profit,onChange:function(e){f(Object(u.a)({},s,{profit:e.target.value}))}}))))},s=function(e){var t=e.isOpened,a=(e.row,e.close),r=e.service,l=Object(n.useState)({key:"".concat(r.dataCar.length+1),carNumber:"",buildCar:"",carCheck:"",model:"",mark:"",mileage:"",price:"",costs:"",forSale:"",buyDay:"",cellDay:"",owner:"",isCell:"",profit:""}),c=Object(i.a)(l,2),m=c[0],s=c[1];return n.createElement(n.Fragment,null,n.createElement(o.Modal,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",visible:t,onOk:function(){r.addData2(m),a(!1)},onCancel:function(){return a(!1)}},n.createElement("div",null,n.createElement("div",{className:"create-item"},n.createElement("span",null,"\u041d\u043e\u043c\u0435\u0440 \u0430\u0432\u0442\u043e"),n.createElement("input",{value:m.carNumber,onChange:function(e){s(Object(u.a)({},m,{carNumber:e.target.value}))}})),n.createElement("br",null),"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430"," ",n.createElement(o.DatePicker,{format:"DD-MM-YYYY",onChange:function(e){var t=null!==e?"".concat(Date.parse(e.toString())):"";console.log(t),s(Object(u.a)({},m,{buildCar:null!==e?"".concat(Date.parse(e.toString())):""}))}})," ",n.createElement("br",null),n.createElement("br",null),"\u0422\u0435\u0445 \u041e\u0441\u043c\u043e\u0442\u0440"," ",n.createElement(o.DatePicker,{format:"DD-MM-YYYY",onChange:function(e){s(Object(u.a)({},m,{carCheck:null!==e?"".concat(Date.parse(e.toString())):""}))}})," ",n.createElement("br",null),"\u041c\u043e\u0434\u0435\u043b\u044c"," ",n.createElement("input",{value:m.model,onChange:function(e){s(Object(u.a)({},m,{model:e.target.value}))}})," ",n.createElement("br",null),"\u041c\u0430\u0440\u043a\u0430"," ",n.createElement("input",{value:m.mark,onChange:function(e){s(Object(u.a)({},m,{mark:e.target.value}))}})," ",n.createElement("br",null),"\u041f\u0440\u043e\u0431\u0435\u0433"," ",n.createElement("input",{value:m.mileage,onChange:function(e){s(Object(u.a)({},m,{mileage:e.target.value}))}})," ",n.createElement("br",null),"\u0426\u0435\u043d\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"," ",n.createElement("input",{value:m.price,onChange:function(e){s(Object(u.a)({},m,{price:e.target.value}))}})," ",n.createElement("br",null),"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"," ",n.createElement("input",{value:m.costs,onChange:function(e){s(Object(u.a)({},m,{costs:e.target.value}))}})," ",n.createElement("br",null),"\u041d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443"," ",n.createElement("input",{value:m.forSale,onChange:function(e){s(Object(u.a)({},m,{forSale:e.target.value}))}})," ",n.createElement("br",null),"\u0414\u0430\u0442\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438",n.createElement(o.DatePicker,{format:"DD-MM-YYYY",onChange:function(e){console.log(null!==e?"".concat(Date.parse(e.toLocaleString())):""),s(Object(u.a)({},m,{buyDay:null!==e?"".concat(Date.parse(e.toLocaleString())):""}))}})," ",n.createElement("br",null),"\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438",n.createElement(o.DatePicker,{format:"DD-MM-YYYY",onChange:function(e){s(Object(u.a)({},m,{cellDay:null!==e?"".concat(Date.parse(e.toLocaleString())):""}))}}),n.createElement("br",null),"\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446"," ",n.createElement("input",{value:m.owner,onChange:function(e){s(Object(u.a)({},m,{owner:e.target.value}))}})," ",n.createElement("br",null),"\u041f\u0440\u043e\u0434\u0430\u043d\u043e"," ",n.createElement("input",{value:m.isCell,onChange:function(e){s(Object(u.a)({},m,{isCell:e.target.value}))}})," ",n.createElement("br",null),"\u041f\u0440\u0438\u0431\u044b\u043b\u044c"," ",n.createElement("input",{value:m.profit,onChange:function(e){s(Object(u.a)({},m,{profit:e.target.value}))}}))))},f=a(950),b=a(948),d=function(e){var t=e.service,a=e.setDataCar,r=Object(n.useState)({model:"",mark:"",time:{start:"",end:""},isCell:""}),l=Object(i.a)(r,2),c=l[0],o=l[1];return n.createElement("div",{className:"filters"},n.createElement("div",{className:"filters-item"},n.createElement("input",{onChange:function(e){return o(Object(u.a)({},c,{isCell:e.target.value}))}}),n.createElement(f.a,{type:"primary",onClick:function(){return t.filterCell(c,a)}},"\u041f\u0440\u043e\u0434\u0430\u043d\u043e")),n.createElement("div",{className:"filters-item"},n.createElement("input",{onChange:function(e){return o(Object(u.a)({},c,{mark:e.target.value}))}}),n.createElement(f.a,{type:"primary",onClick:function(){return t.filterMark(c,a)}},"\u041c\u043e\u0434\u0435\u043b\u044c")),n.createElement("div",{className:"filters-item"},n.createElement("input",{onChange:function(e){return o(Object(u.a)({},c,{model:e.target.value}))}}),n.createElement(f.a,{type:"primary",onClick:function(){return t.filterModel(c,a)}},"\u041c\u0430\u0440\u043a\u0430")),n.createElement("div",{className:"filters-item"},"\u041d\u0430\u0447\u0430\u043b\u043e"," ",n.createElement(b.a,{format:"DD-MM-YYYY",onChange:function(e){console.log(null!==e?"".concat(Date.parse(e.toString())):""),o(Object(u.a)({},c,{time:Object(u.a)({},c.time,{start:null!==e?"".concat(Date.parse(e.toLocaleString())):""})}))}}),"\u041a\u043e\u043d\u0435\u0446"," ",n.createElement(b.a,{format:"DD-MM-YYYY",onChange:function(e){return o(Object(u.a)({},c,{time:Object(u.a)({},c.time,{end:null!==e?"".concat(Date.parse(e.toLocaleString())):""})}))}}),n.createElement(f.a,{type:"primary",onClick:function(){return t.filterTime(c,a)}},"\u0414\u0430\u0442\u0430")),n.createElement(f.a,{type:"primary",onClick:function(){return t.reset(a)}},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"))},p=function(e){var t=e.isOpened,a=e.close,r=e.data;return n.createElement(o.Modal,{title:"\u041e\u0442\u0447\u0435\u0442",visible:t,onOk:function(){a(!1)},onCancel:function(){return a(!1)}},n.createElement("p",null,"\u041a\u0443\u043f\u043b\u0435\u043d\u043e \u0430\u0432\u0442\u043e: ",r.length),n.createElement("p",null,"\u041f\u0440\u043e\u0434\u0430\u043d\u043e \u0430\u0432\u0442\u043e: ",r.filter((function(e){return"\u041d\u0435\u0442"===e.isCell})).length),n.createElement("p",null,"\u0417\u0430\u043a\u0443\u043f\u043a\u0430:"," ",r.reduce((function(e,t){return""!==t.price&&(e+=parseFloat(t.price)),e}),0)),n.createElement("p",null,"\u0420\u0430\u0441\u0445\u043e\u0434\u044b:"," ",r.reduce((function(e,t){return""!==t.costs&&(e+=parseFloat(t.costs)),e}),0)),n.createElement("p",null,"\u041f\u0440\u043e\u0434\u0430\u043d\u043e"," ",r.reduce((function(e,t){return""!==t.forSale&&(e+=parseFloat(t.forSale)),e}),0)),n.createElement("p",null,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c"," ",r.reduce((function(e,t){return""!==t.profit&&(e+=parseFloat(t.profit)),e}),0)),n.createElement("p",null,"\u0418\u0442\u043e\u0433\u043e"," ",r.reduce((function(e,t){return""!==t.profit&&(e+=parseFloat(t.profit)),e}),0)))},g=function(e){var t=e.service,a=[{title:"\u2116",dataIndex:"key",key:"key"},{title:"\u041d\u043e\u043c\u0435\u0440",dataIndex:"carNumber",key:"carNumber"},{title:"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430",key:"buildCar",render:function(e){return e.buildCar?new Date(+e.buildCar).toLocaleDateString():""}},{title:"\u0422\u0435\u0445 \u041e\u0441\u043c\u043e\u0442\u0440",key:"carCheck",render:function(e){return e.carCheck?new Date(+e.carCheck).toLocaleDateString():""}},{title:"\u041c\u043e\u0434\u0435\u043b\u044c",dataIndex:"model",key:"model"},{title:"\u041c\u0430\u0440\u043a\u0430",dataIndex:"mark",key:"mark"},{title:"\u041f\u0440\u043e\u0431\u0435\u0433",dataIndex:"mileage",key:"mileage"},{title:"\u0426\u0435\u043d\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438",dataIndex:"price",key:"price"},{title:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b",dataIndex:"costs",key:"costs"},{title:"\u041d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443",dataIndex:"forSale",key:"forSale"},{title:"\u0414\u0430\u0442\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438",key:"buyDay",render:function(e){return console.log(e.buildCar),e.buyDay?new Date(+e.buyDay).toLocaleDateString():""}},{title:"\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438",key:"cellDay",render:function(e){return e.cellDay?new Date(+e.cellDay).toLocaleDateString():""}},{title:"\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446",dataIndex:"owner",key:"owner"},{title:"\u041f\u0440\u043e\u0434\u0430\u043d\u0430",dataIndex:"isCell",key:"isCell"},{title:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c",dataIndex:"profit",key:"profit"},{key:"action",render:function(e){return n.createElement("span",null,n.createElement(o.Button,{type:"primary",onClick:function(){return D(e.key)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),n.createElement(m,{isOpened:g===e.key,row:e,close:D,service:t}))}}],r=Object(n.useState)([{}]),l=Object(i.a)(r,2),c=l[0],u=l[1],f=Object(n.useState)(""),b=Object(i.a)(f,2),g=b[0],D=b[1],E=Object(n.useState)(!1),h=Object(i.a)(E,2),y=h[0],v=h[1],C=Object(n.useState)(!1),k=Object(i.a)(C,2),O=k[0],j=k[1],S=Object(n.useState)(t.dataCar),Y=Object(i.a)(S,2),M=Y[0],w=Y[1];return Object(n.useEffect)((function(){t.fetchData2(w)}),[]),Object(n.useEffect)((function(){M&&u(t.dataCar)}),[M]),n.createElement(n.Fragment,null,n.createElement(d,{service:t,setDataCar:u}),n.createElement("span",null,n.createElement(o.Button,{type:"primary",onClick:function(){return j(!0)}},"\u041e\u0442\u0447\u0435\u0442"),O&&n.createElement(p,{isOpened:O,close:j,data:t.filterData})),n.createElement("span",null,n.createElement(o.Button,{type:"primary",onClick:function(){return v(!0)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),y&&n.createElement(s,{isOpened:y,row:a,close:v,service:t})),n.createElement(o.Table,{columns:a,dataSource:c,pagination:!1,bordered:!0}))},D=a(131),E=a(405),h=a(406),y=a(247),v=(a(928),function(){function e(){Object(E.a)(this,e),this.firebaseConfig={apiKey:"AIzaSyAS3Tmzpw_YfZnpGdisPnfXZjN8BScjhL0",authDomain:"lehtierittely-bc08d.firebaseapp.com",databaseURL:"https://lehtierittely-bc08d.firebaseio.com",projectId:"lehtierittely-bc08d",storageBucket:"lehtierittely-bc08d.appspot.com",messagingSenderId:"455064458920",appId:"1:455064458920:web:b70dc58166e8de8996d49d"},this.db=void 0,this.dataCar=[],this.allData=[],this.filterData=[],y.initializeApp(this.firebaseConfig),this.db=y.firestore()}return Object(h.a)(e,[{key:"fetchData2",value:function(e){var t=this;this.db.collection("car").doc("NB9Di5WqKJ4Ti29UATtd").onSnapshot((function(a){var n=a.data();t.dataCar=Object.values(n).map((function(e){return e.car})),t.filterData=Object.values(n).map((function(e){return e.car})),t.allData=Object.values(n).map((function(e){return e.car})),e(t.dataCar)}),(function(){}))}},{key:"addData2",value:function(e){console.log(e.key),this.db.collection("car").doc("NB9Di5WqKJ4Ti29UATtd").set(Object(D.a)({},e.key,{car:e}),{merge:!0}).then((function(){console.log("Document written with ID: ")})).catch((function(){console.error("Error adding document: ")}))}},{key:"editData2",value:function(e){this.db.collection("car").doc("NB9Di5WqKJ4Ti29UATtd").update(Object(D.a)({},e.key,{car:e})).then((function(){console.log("Document written with ID: ")})).catch((function(){console.error("Error adding document: ")}))}},{key:"filterMark",value:function(e,t){this.filterData=this.filterData.filter((function(t){return t.mark===e.mark})),t(this.filterData)}},{key:"filterModel",value:function(e,t){this.filterData=this.filterData.filter((function(t){return t.model===e.model})),t(this.filterData)}},{key:"filterCell",value:function(e,t){this.filterData=this.filterData.filter((function(t){return t.isCell===e.isCell})),t(this.filterData)}},{key:"filterTime",value:function(e,t){this.filterData=this.filterData.filter((function(t){return console.log(+t.buyDay,+e.time.start,+t.cellDay,+e.time.end),+t.buyDay>=+e.time.start&&+t.cellDay<=+e.time.end})),console.log(this.filterData),t(this.filterData)}},{key:"reset",value:function(e){this.filterData=this.allData,e(this.dataCar)}},{key:"report",value:function(){return this.filterData}}]),e}()),C=function(){var e=new v;return r.a.createElement("div",{className:"App"},r.a.createElement(g,{service:e}))};c.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[409,1,2]]]);
//# sourceMappingURL=main.d8a32940.chunk.js.map