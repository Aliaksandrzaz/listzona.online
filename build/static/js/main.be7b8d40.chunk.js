(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{409:function(e,t,a){e.exports=a(933)},414:function(e,t,a){},415:function(e,t,a){},933:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(8),c=a.n(l),i=(a(414),a(415),a(47)),u=a(27),o=(a(416),a(20));function m(e){return Date.parse(e.format().split("T")[0]).toString()}var s=function(e){var t=e.dispatch,a=e.type,r=e.title;return n.createElement("div",{className:"create-item"},n.createElement("span",null,r),n.createElement("input",{value:a,onChange:t}))},d=a(12),f=a.n(d),p=function(e){var t=e.isOpened,a=e.row,r=e.close,l=e.service,c=Object(n.useState)({key:a.key,carNumber:a.carNumber,buildCar:a.buildCar,carCheck:a.carCheck,model:a.model,mark:a.mark,mileage:a.mileage,price:a.price,costs:a.costs,forSale:a.forSale,buyDay:a.buyDay,cellDay:a.cellDay,owner:a.owner,isCell:a.isCell,profit:a.profit}),d=Object(i.a)(c,2),p=d[0],b=d[1];return n.createElement(n.Fragment,null,n.createElement(u.Modal,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",visible:t,onOk:function(){l.editData2(p),r("")},onCancel:function(){return r("")}},n.createElement("div",null,n.createElement(s,{type:p.carNumber,dispatch:function(e){b(Object(o.a)({},p,{carNumber:e.target.value}))},title:"\u041d\u043e\u043c\u0435\u0440 \u043c\u0430\u0448\u0438\u043d\u044b"}),n.createElement("div",{className:"create-item__time"},n.createElement("span",{className:"create-item__title"},"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430"),n.createElement(u.DatePicker,{format:"DD-MM-YYYY",value:""===p.buildCar?null:f()(+p.buildCar),onChange:function(e){return b(Object(o.a)({},p,{buildCar:null!==e?m(e):""}))}})),n.createElement("div",{className:"create-item__time"},n.createElement("span",{className:"create-item__title"},"\u0422\u0435\u0445 \u041e\u0441\u043c\u043e\u0442\u0440"),n.createElement(u.DatePicker,{format:"DD-MM-YYYY",value:""===p.carCheck?null:f()(+p.carCheck),onChange:function(e){b(Object(o.a)({},p,{carCheck:null!==e?m(e):""}))}})),n.createElement(s,{type:p.model,dispatch:function(e){return b(Object(o.a)({},p,{model:e.target.value}))},title:"\u041c\u043e\u0434\u0435\u043b\u044c"}),n.createElement(s,{type:p.mark,dispatch:function(e){return b(Object(o.a)({},p,{mark:e.target.value}))},title:"\u041c\u0430\u0440\u043a\u0430"}),n.createElement(s,{type:p.mileage,dispatch:function(e){return b(Object(o.a)({},p,{mileage:e.target.value}))},title:"\u041f\u0440\u043e\u0431\u0435\u0433"}),n.createElement(s,{type:p.price,dispatch:function(e){return b(Object(o.a)({},p,{price:e.target.value}))},title:"\u0426\u0435\u043d\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"}),n.createElement(s,{type:p.costs,dispatch:function(e){return b(Object(o.a)({},p,{costs:e.target.value}))},title:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"}),n.createElement(s,{type:p.forSale,dispatch:function(e){return b(Object(o.a)({},p,{forSale:e.target.value}))},title:"\u041d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443"}),n.createElement("div",{className:"create-item__time"},n.createElement("span",{className:"create-item__title"},"\u0414\u0430\u0442\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"),n.createElement(u.DatePicker,{format:"DD-MM-YYYY",value:""===p.buyDay?null:f()(+p.buyDay),onChange:function(e){b(Object(o.a)({},p,{buyDay:null!==e?m(e):""}))}})),n.createElement("div",{className:"create-item__time"},n.createElement("span",{className:"create-item__title"},"\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438"),n.createElement(u.DatePicker,{format:"DD-MM-YYYY",value:""===p.cellDay?null:f()(+p.cellDay),onChange:function(e){b(Object(o.a)({},p,{cellDay:null!==e?m(e):""}))}})),n.createElement(s,{type:p.owner,dispatch:function(e){return b(Object(o.a)({},p,{owner:e.target.value}))},title:"\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446"}),n.createElement("div",{className:"create-item__radio"},n.createElement(u.Radio.Group,{onChange:function(e){b(Object(o.a)({},p,{isCell:e.target.value}))},value:p.isCell},n.createElement(u.Radio,{value:"cell"},"\u041f\u0440\u043e\u0434\u0430\u043d\u043e"),n.createElement(u.Radio,{value:"has"},"\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 "))),n.createElement(s,{type:p.profit,dispatch:function(e){return b(Object(o.a)({},p,{profit:e.target.value}))},title:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c"}))))},b=function(e){var t=e.isOpened,a=e.close,r=e.service,l=Object(n.useState)({key:"".concat(r.dataCar.length+1),carNumber:"",buildCar:"",carCheck:"",model:"",mark:"",mileage:"",price:"",costs:"",forSale:"",buyDay:"",cellDay:"",owner:"",isCell:"has",profit:""}),c=Object(i.a)(l,2),d=c[0],f=c[1];return n.createElement(n.Fragment,null,n.createElement(u.Modal,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",visible:t,onOk:function(){r.addData2(d),a(!1)},onCancel:function(){return a(!1)}},n.createElement("div",null,n.createElement(s,{type:d.carNumber,dispatch:function(e){f(Object(o.a)({},d,{carNumber:e.target.value}))},title:"\u041d\u043e\u043c\u0435\u0440 \u043c\u0430\u0448\u0438\u043d\u044b"}),n.createElement("div",{className:"create-item__time"},n.createElement("span",{className:"create-item__title"},"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430"),n.createElement(u.DatePicker,{format:"DD-MM-YYYY",onChange:function(e){return f(Object(o.a)({},d,{buildCar:null!==e?m(e):""}))}})),n.createElement("div",{className:"create-item__time"},n.createElement("span",{className:"create-item__title"},"\u0422\u0435\u0445 \u041e\u0441\u043c\u043e\u0442\u0440"),n.createElement(u.DatePicker,{format:"DD-MM-YYYY",onChange:function(e){f(Object(o.a)({},d,{carCheck:null!==e?m(e):""}))}})),n.createElement(s,{type:d.model,dispatch:function(e){return f(Object(o.a)({},d,{model:e.target.value}))},title:"\u041c\u043e\u0434\u0435\u043b\u044c"}),n.createElement(s,{type:d.mark,dispatch:function(e){return f(Object(o.a)({},d,{mark:e.target.value}))},title:"\u041c\u0430\u0440\u043a\u0430"}),n.createElement(s,{type:d.mileage,dispatch:function(e){return f(Object(o.a)({},d,{mileage:e.target.value}))},title:"\u041f\u0440\u043e\u0431\u0435\u0433"}),n.createElement(s,{type:d.price,dispatch:function(e){return f(Object(o.a)({},d,{price:e.target.value}))},title:"\u0426\u0435\u043d\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"}),n.createElement(s,{type:d.costs,dispatch:function(e){return f(Object(o.a)({},d,{costs:e.target.value}))},title:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b"}),n.createElement(s,{type:d.forSale,dispatch:function(e){return f(Object(o.a)({},d,{forSale:e.target.value}))},title:"\u041d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443"}),n.createElement("div",{className:"create-item__time"},n.createElement("span",{className:"create-item__title"},"\u0414\u0430\u0442\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"),n.createElement(u.DatePicker,{format:"DD-MM-YYYY",onChange:function(e){f(Object(o.a)({},d,{buyDay:null!==e?m(e):""}))}})),n.createElement("div",{className:"create-item__time"},n.createElement("span",{className:"create-item__title"},"\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438"),n.createElement(u.DatePicker,{format:"DD-MM-YYYY",onChange:function(e){f(Object(o.a)({},d,{cellDay:null!==e?m(e):""}))}})),n.createElement(s,{type:d.owner,dispatch:function(e){return f(Object(o.a)({},d,{owner:e.target.value}))},title:"\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446"}),n.createElement("div",{className:"create-item__radio"},n.createElement(u.Radio.Group,{onChange:function(e){f(Object(o.a)({},d,{isCell:e.target.value}))},value:d.isCell},n.createElement(u.Radio,{value:"cell"},"\u041f\u0440\u043e\u0434\u0430\u043d\u043e"),n.createElement(u.Radio,{value:"has"},"\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 "))),n.createElement(s,{type:d.profit,dispatch:function(e){return f(Object(o.a)({},d,{profit:e.target.value}))},title:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c"}))))},h=a(948),y=a(950),E=a(951),v=function(e){var t=e.isOpened,a=e.close,r=e.data;return n.createElement(u.Modal,{bodyStyle:{height:800,fontSize:24,fontWeight:700},title:"\u041e\u0442\u0447\u0435\u0442",visible:t,onOk:function(){a(!1)},onCancel:function(){return a(!1)}},n.createElement("p",null,"\u041a\u0443\u043f\u043b\u0435\u043d\u043e \u0430\u0432\u0442\u043e: ",r.filter((function(e){return"has"===e.isCell})).length),n.createElement("p",null,"\u0417\u0430\u043a\u0443\u043f\u043a\u0430: :",r.reduce((function(e,t){return""!==t.price&&(e+=parseFloat(t.price)),e}),0)),n.createElement("p",null,"\u0420\u0430\u0441\u0445\u043e\u0434\u044b: :",r.reduce((function(e,t){return""!==t.costs&&(e+=parseFloat(t.costs)),e}),0)),n.createElement("p",null,"\u041f\u0440\u043e\u0434\u0430\u043d\u043e :",r.reduce((function(e,t){return""!==t.forSale&&(e+=parseFloat(t.forSale)),e}),0)),n.createElement("p",null,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c :",r.reduce((function(e,t){return""!==t.profit&&(e+=parseFloat(t.profit)),e}),0)))},D=function(e){var t=e.service,a=e.setDataCar,r=e.dataCar,l=Object(n.useState)({model:"",mark:"",time:{start:"",end:""},isCell:"all"}),c=Object(i.a)(l,2),u=c[0],s=c[1],d=Object(n.useState)(!1),p=Object(i.a)(d,2),b=p[0],D=p[1];return n.createElement("div",{className:"filters"},n.createElement("div",{className:"filters-item"},n.createElement(h.a,{format:"DD-MM-YYYY",placeholder:"\u041d\u0430\u0447\u0430\u043b\u043e",value:""===u.time.start?null:f()(+u.time.start),onChange:function(e){s(Object(o.a)({},u,{time:Object(o.a)({},u.time,{start:null!==e?m(e):""})}))}}),n.createElement(h.a,{placeholder:"\u041a\u043e\u043d\u0435\u0446",format:"DD-MM-YYYY",value:""===u.time.end?null:f()(+u.time.end),onChange:function(e){return s(Object(o.a)({},u,{time:Object(o.a)({},u.time,{end:null!==e?"".concat(+m(e)+1e4):""})}))}})),n.createElement("div",{className:"filters-item"},n.createElement("input",{placeholder:"\u041c\u043e\u0434\u0435\u043b\u044c",value:u.model,onChange:function(e){return s(Object(o.a)({},u,{model:e.target.value}))}})),n.createElement("div",{className:"filters-item"},n.createElement("input",{value:u.mark,placeholder:"\u041c\u0430\u0440\u043a\u0430",onChange:function(e){return s(Object(o.a)({},u,{mark:e.target.value}))}})),n.createElement("div",null,n.createElement(y.a.Group,{onChange:function(e){s(Object(o.a)({},u,{isCell:e.target.value}))},value:u.isCell},n.createElement(y.a,{value:"all"},"\u0412\u0441\u0435"),n.createElement(y.a,{value:"cell"},"\u041f\u0440\u043e\u0434\u0430\u043d\u043e"),n.createElement(y.a,{value:"has"},"\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 "))),n.createElement(E.a,{type:"primary",onClick:function(){t.reset(a),s({model:"",mark:"",time:{start:"",end:""},isCell:"all"})}},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"),n.createElement(E.a,{type:"primary",onClick:function(){return t.filter(u,a)}},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"),n.createElement("span",null,n.createElement(E.a,{type:"primary",onClick:function(){return D(!0)}},"\u041e\u0442\u0447\u0435\u0442"),b&&n.createElement(v,{isOpened:b,close:D,data:r})))},C=function(e){var t=e.service,a=[{title:"\u2116",dataIndex:"key",key:"key"},{title:"\u041d\u043e\u043c\u0435\u0440",dataIndex:"carNumber",key:"carNumber"},{title:"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430",key:"buildCar",render:function(e){return e.buildCar?new Date(+e.buildCar).toLocaleDateString():""}},{title:"\u0422\u0435\u0445 \u041e\u0441\u043c\u043e\u0442\u0440",key:"carCheck",render:function(e){return e.carCheck?new Date(+e.carCheck).toLocaleDateString():""}},{title:"\u041c\u043e\u0434\u0435\u043b\u044c",dataIndex:"model",key:"model"},{title:"\u041c\u0430\u0440\u043a\u0430",dataIndex:"mark",key:"mark"},{title:"\u041f\u0440\u043e\u0431\u0435\u0433",dataIndex:"mileage",key:"mileage"},{title:"\u0426\u0435\u043d\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438",dataIndex:"price",key:"price"},{title:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b",dataIndex:"costs",key:"costs"},{title:"\u041d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443",dataIndex:"forSale",key:"forSale"},{title:"\u0414\u0430\u0442\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438",key:"buyDay",render:function(e){return e.buyDay?new Date(+e.buyDay).toLocaleDateString():""}},{title:"\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0438",key:"cellDay",render:function(e){return e.cellDay?new Date(+e.cellDay).toLocaleDateString():""}},{title:"\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446",dataIndex:"owner",key:"owner"},{title:"\u041f\u0440\u043e\u0434\u0430\u043d\u0430",key:"isCell",render:function(e){return"has"===e.isCell?"\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438":"\u041f\u0440\u043e\u0434\u0430\u043d\u043e"}},{title:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c",dataIndex:"profit",key:"profit"},{key:"action",render:function(e){return n.createElement("span",null,n.createElement("img",{src:"https://img.icons8.com/material-outlined/24/000000/gears.png",onClick:function(){return o(e.key)}}),n.createElement(p,{isOpened:c===e.key,row:e,close:o,service:t}))}}],r=Object(n.useState)(""),l=Object(i.a)(r,2),c=l[0],o=l[1],m=Object(n.useState)(!1),s=Object(i.a)(m,2),d=s[0],f=s[1],h=Object(n.useState)(!1),y=Object(i.a)(h,2),E=y[0],v=y[1],C=Object(n.useState)(t.dataCar),g=Object(i.a)(C,2),k=g[0],O=g[1],j=Object(n.useState)(!0),Y=Object(i.a)(j,2),N=Y[0],_=Y[1];return Object(n.useEffect)((function(){t.fetchData2(O)}),[]),Object(n.useEffect)((function(){k.length>0&&N&&k.length!==t.dataCar.filter((function(e){return"has"===e.isCell})).length?O(t.dataCar.filter((function(e){return"has"===e.isCell}))):k.length>0&&!N&&k.length!==t.dataCar.length&&O(t.dataCar)}),[N,k]),n.createElement(n.Fragment,null,E&&n.createElement(D,{service:t,setDataCar:O,dataCar:k}),n.createElement("div",{className:"options"},n.createElement("span",null,n.createElement(u.Button,{type:"primary",onClick:function(){return _(!1)}},"\u0412\u0441\u0435")),n.createElement("span",null,n.createElement(u.Button,{type:"primary",onClick:function(){return _(!0)}},"\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438")),n.createElement("span",null,n.createElement(u.Button,{type:"primary",onClick:function(){return f(!0)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),d&&n.createElement(b,{isOpened:d,close:f,service:t})),n.createElement("span",null,n.createElement(u.Button,{type:"primary",onClick:function(){return v(!E)}},"\u0424\u0438\u043b\u044c\u0442\u0440"))),n.createElement(u.Table,{columns:a,dataSource:k,pagination:!1,bordered:!0}))},g=a(131),k=a(405),O=a(406),j=a(248),Y=(a(928),function(){function e(){Object(k.a)(this,e),this.firebaseConfig={apiKey:"AIzaSyAS3Tmzpw_YfZnpGdisPnfXZjN8BScjhL0",authDomain:"lehtierittely-bc08d.firebaseapp.com",databaseURL:"https://lehtierittely-bc08d.firebaseio.com",projectId:"lehtierittely-bc08d",storageBucket:"lehtierittely-bc08d.appspot.com",messagingSenderId:"455064458920",appId:"1:455064458920:web:b70dc58166e8de8996d49d"},this.db=void 0,this.dataCar=[],this.allData=[],this.filterData=[],j.initializeApp(this.firebaseConfig),this.db=j.firestore()}return Object(O.a)(e,[{key:"fetchData2",value:function(e){var t=this;this.db.collection("car").doc("NB9Di5WqKJ4Ti29UATtd").onSnapshot((function(a){var n=a.data();t.dataCar=Object.values(n).map((function(e){return e.car})).reverse(),t.filterData=Object.values(n).map((function(e){return e.car})).reverse(),t.allData=Object.values(n).map((function(e){return e.car})).reverse(),e(t.dataCar)}),(function(){}))}},{key:"addData2",value:function(e){this.db.collection("car").doc("NB9Di5WqKJ4Ti29UATtd").set(Object(g.a)({},e.key,{car:e}),{merge:!0}).then((function(){console.log("Document written with ID: ")})).catch((function(){console.error("Error adding document: ")}))}},{key:"editData2",value:function(e){this.db.collection("car").doc("NB9Di5WqKJ4Ti29UATtd").update(Object(g.a)({},e.key,{car:e})).then((function(){console.log("Document written with ID: ")})).catch((function(){console.error("Error adding document: ")}))}},{key:"filterCell",value:function(e,t){t(this.dataCar.filter((function(t){return"has"===e?"has"===t.isCell:"cell"===e?"cell"===t.isCell:t})))}},{key:"filter",value:function(e,t){var a=""!==e.isCell?this.filterData.filter((function(t){return"has"===e.isCell?"has"===t.isCell:"cell"===e.isCell?"cell"===t.isCell:t})):this.allData,n=""!==e.model?a.filter((function(t){return t.model===e.model})):a,r=""!==e.mark?n.filter((function(t){return t.mark===e.mark})):n,l=""!==e.time.start?r.filter((function(t){return""!==t.buyDay&&+t.buyDay>=+e.time.start})):r,c=""!==e.time.end?l.filter((function(t){return""!==t.buyDay&&+t.buyDay<=+e.time.end})):l;this.dataCar=c,t(this.dataCar)}},{key:"reset",value:function(e){this.filterData=this.allData,e(this.allData)}},{key:"report",value:function(){return this.filterData}},{key:"getAllData",value:function(e){this.filterData=this.allData,e(this.allData)}}]),e}()),N=function(){var e=new Y;return r.a.createElement("div",{className:"App"},r.a.createElement(C,{service:e}))};c.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[409,1,2]]]);
//# sourceMappingURL=main.be7b8d40.chunk.js.map